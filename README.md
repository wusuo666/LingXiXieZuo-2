# 灵犀协作 VS Code 插件

本插件将灵犀协作的强大功能集成到主流代码编辑器中，为开发者提供了一个集协同编程、语音会议、实时聊天、画布agent、画布同步等多种功能于一体的高效开发环境。支持 VS Code、Trae、Cursor 等多种编辑器，使用前请确保您的编辑器版本符合要求。

- [功能特性](#功能特性)
  - [聊天室服务器](#聊天室服务器)
  - [语音识别服务](#语音识别服务)
  - [Excalidraw画布操作](#Excalidraw-画布操作)
  - [AI辅助设计](#AI辅助设计)
- [使用说明](#使用说明)
- [依赖信息](#依赖信息)
- [联系我们](#联系我们)
- [贡献者注意事项](#贡献者注意事项)

## 功能特性

### 聊天室服务器
插件基于局域网连接搭建多人在线聊天室，支持基础的文字聊天、语音聊天服务，支持最多十人的语音会议功能，支持语音会议音频的保存。

### 语音识别服务
插件支持语音识别功能，提供了获取转写结果和接收识别结果的相关操作。
可供选择地将语音会议内容转写成为纪要


### Excalidraw 画布操作
插件支持多种 Excalidraw 画布操作，包括创建画布、列出画布、添加形状、添加文本、导出画布、获取画布详情、导入库、删除元素和画框工具等。
聊天室内可使用提交拉取画布功能，实现画布协作
结合语音识别服务，将纪要添加至画布
分布式性能测试：
* 总测试时间: 61.34秒
平均画布创建时间: 66.32ms
总文件大小: 11.64MB
并发操作成功率: 100.00%
平均每个画布大小: 238.44KB
每秒处理操作数: 16.30ops/s



### AI辅助设计
通过自然语言生成图形（如描述文字自动转为流程图）。


## 使用说明
1. **安装**：确保 VS Code 版本为 1.85.0 或更高，然后安装本插件。
2. **激活**：启动 VS Code 后，插件将自动激活。
3. **Excalidraw 画布操作**：
   * 基础操作
     + 创建新画布：点击创建画布按钮
     + 保存画布：`Ctrl+S`
   * 协作功能
     + 提交画布：右键点击画布列表中的画布，选择提交
     + 拉取画布：在其它用户提交画布时及时将被提交画布下载至本地，右键点击画布列表中的画布，选择拉取，选择被与当前合并画布合并的画布名称，在画布合并发生冲突时选择本地优先或远程优先
   * 纪要功能
     + 会议结束后，点击添加纪要按钮，依次选择添加的纪要文档，被添加至的画布，添加的语句。
4. **聊天室使用方式**：
   * 基础操作
     + 作为主机的设备点击启动服务器，供其他从机连接。聊天室主机地址如下ws://localhost:3000（保证使用的端口空置）。
     + 从机获取主机的地址在从机模式中进行连接服务器，注意端口是否空置。
     + 发送语音消息和文字消息前保证已经连接到服务器
     + 语音会议需要通过会议室id加入
   * 语音会议的音频保存
     + 会议结束后可以选择是否保存会议音频
5. **整理流程教程**：
   * 主机启动聊天室
   ![主机启动聊天室](tutorial\主机启动聊天室.gif)
   * 从机加入聊天室
   ![从机加入聊天室](tutorial\从机加入聊天室.gif)
   * 创建&加入会议
   ![创建&加入会议](tutorial\创建&加入会议.gif)
   * 生成纪要
   ![生成纪要](tutorial\生成纪要.gif)
   * 合并画布_提交者
   ![合并画布_提交者](tutorial\合并画布_提交者.gif)
   * 合并画布_拉取者
   ![合并画布_拉取者](tutorial\合并画布_拉取者.gif)
   * 合并画布_冲突处理
   ![合并画布_冲突处理](tutorial\合并画布_冲突处理.gif)
   * 添加纪要&冲突处理
   ![添加纪要&冲突处理](tutorial\添加纪要_冲突处理.gif)
   * 启动MCP&AI绘图
   ![启动MCP&AI绘图](tutorial\启动MCP&AI绘图.gif)
   * AI总结纪要
   ![AI总结纪要](tutorial\AI总结纪要.gif)


## 依赖信息
插件依赖了多个 npm 包，以下是部分主要依赖的信息：
```json
{
  "dependencies": {
    "axios": "^1.9.0",
    "openai": "^4.98.0",
    "uuid": "^9.0.1",
    "node-microphone": "^0.1.6",
    "socket.io": "^4.8.1",
    "speaker": "^0.5.5",
    "vscode": "^1.1.37",
    "ws": "^8.18.2",
    "xmldom": "^0.6.0"
    "crypto-js": "^4.2.0",
    "form-data": "^4.0.2",
    "fs": "^0.0.1-security"
  }
}
```


## 联系我们
如果遇到与 VS Code 集成相关的问题或有功能需求，请在插件的 GitHub 仓库提交 issue。如果问题与基础功能相关，请直接向灵犀协作项目反馈。

## 贡献者注意事项
感谢您考虑为插件做出贡献！本插件的主要目标是将灵犀协作功能集成到 VS Code 生态系统中，用户应能够在网站和插件之间无缝切换使用。因此，我们不会接受任何与灵犀协作网站用户体验有显著差异的贡献。

如有不确定情况，请在项目的 [讨论页面](https://github.com/wusuo666/LingXiXieZuo-2/discussions)  发起讨论。